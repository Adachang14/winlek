<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>หน้า Loot</title>
  <style>
    body {
      font-family: 'Sarabun', sans-serif;
      background: #f0f8ff;
      padding: 20px;
      text-align: center;
    }
    .container {
      background: white;
      border-radius: 15px;
      padding: 20px;
      max-width: 600px;
      margin: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input[type="text"] {
      width: 80%;
      padding: 10px;
      margin: 10px 0;
      font-size: 18px;
    }
    button {
      margin: 5px;
      padding: 10px 24px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #2196F3;
      color: white;
    }
    .result-box {
      background-color: #d0f5d8;
      margin-top: 20px;
      padding: 14px;
      border-radius: 12px;
      text-align: left;
      white-space: pre-line;
    }
    .copy-btn {
      background-color: #007bff;
    }
    .copied-msg {
      display: inline-block;
      margin-left: 10px;
      color: green;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>หน้า Loot</h2>
    <input type="text" id="input" placeholder="กรอกเช่น 6/5 2/0 7/9..." onkeypress="checkEnter(event)">
    <div>
      <button onclick="generateLoot()">แสดงผล</button>
      <button onclick="clearAll()">เริ่มใหม่</button>
      <button onclick="window.location.href='index.html'">กลับหน้าหลัก</button>
    </div>
    <div id="results"></div>
  </div>

  <script>
    function checkEnter(event) {
      if (event.key === "Enter") {
        generateLoot();
      }
    }

    function generateLoot() {
      let input = document.getElementById("input").value.trim();
      if (!input) return;

      const pairs = input.split(/\s+/);
      let output = "";
      let allNumbers = [];

      pairs.forEach((pair, index) => {
        const [a, b] = pair.split("/");
        if (!a || !b) return;

        const nums = [];
        for (let i = 0; i <= 9; i++) {
          nums.push(a + i);
        }
        for (let i = 0; i <= 9; i++) {
          if (i != a) nums.push(i + a);
        }
        for (let i = 0; i <= 9; i++) {
          nums.push(b + i);
        }
        for (let i = 0; i <= 9; i++) {
          if (i != b) nums.push(i + b);
        }

        const uniqueNums = Array.from(new Set(nums));
        allNumbers.push(...uniqueNums);

        output += `[${index + 1}] รูด ${a}: ${uniqueNums.filter(n => n.startsWith(a) || n.endsWith(a)).join(" ")}\n`;
      });

      document.getElementById("results").innerHTML = `
        <div class="result-box">
          ${output}
          <br>
          <button class="copy-btn" onclick="copyAll()">คัดลอก</button>
          <span id="copied-msg" class="copied-msg" style="display:none;">คัดลอกแล้ว!</span>
        </div>
      `;

      window.allNumbersText = output;
    }

    function copyAll() {
      navigator.clipboard.writeText(window.allNumbersText).then(() => {
        document.getElementById("copied-msg").style.display = "inline-block";
        setTimeout(() => {
          document.getElementById("copied-msg").style.display = "none";
        }, 2000);
      });
    }

    function clearAll() {
      document.getElementById("input").value = "";
      document.getElementById("results").innerHTML = "";
    }
  </script>
</body>
</html>
